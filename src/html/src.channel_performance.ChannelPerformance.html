<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>src.channel_performance.ChannelPerformance</title>
    <meta name="generator" content="pydoctor 22.4.0.dev0"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    

    <nav class="navbar navbar-default">
  
  <div class="container">

    <div class="navbar-header">
      
      <div class="navlinks">
        <span class="navbar-brand">
          src <a href="index.html">API Documentation</a>
        </span>

        <a href="moduleIndex.html">
          Modules
        </a>

        <a href="classIndex.html">
          Classes
        </a>

        <a href="nameIndex.html">
          Names
        </a>

        <div id="search-box-container">
          <div class="input-group">
            <input id="search-box" type="search" name="search-query" placeholder="Search..." aria-label="Search" minlength="2" class="form-control" autocomplete="off" />
            
            <span class="input-group-btn">
              <a style="display: none;" class="btn btn-default" id="search-clear-button" title="Clear" onclick="clearSearch()"><img src="fonts/x-circle.svg" alt="Clear" /></a>
              <a class="btn btn-default" id="search-help-button" title="Help" onclick="toggleSearchHelpText()"><img src="fonts/info.svg" alt="Help" /></a>
            </span>
          </div>
        </div>

      </div>

      <div id="search-results-container" style="display: none;">
        
        <div id="search-buttons">
          <span class="label label-default" id="search-docstrings-button">
          <label class="checkbox-inline">
            <input type="checkbox" id="toggle-search-in-docstrings-checkbox" value="false" onclick="toggleSearchInDocstrings()">
              search in docstrings
            </input>
          </label>
          </span>
          
        </div>
        
        <noscript>
            <h1>Cannot search: JavaScript is not supported/enabled in your browser.</h1>
        </noscript>

        <div class="hint" id="search-help-box">
          <p class="rst-last">
      
            Search bar offers the following options:
            <ul>   
                <li>
                  <strong>Term presence.</strong> The below example searches for documents that 
                    must contain “foo”, might contain “bar” and must not contain “baz”: <code>+foo bar -baz</code>
                </li> 

                <li>
                  <strong>Wildcards.</strong> The below example searches for documents with words beginning with “foo”: <code>foo*</code>
                </li> 

                <li>
                  <strong>Search in specific fields.</strong> The following search matches all objects 
                  in "twisted.mail" that matches “search”: <code>+qname:twisted.mail.* +search</code>

                  <p>
                    Possible fields: 'name', 'qname' (fully qualified name), 'docstring', and 'kind'.
                    Last two fields are only applicable if "search in docstrings" is enabled.
                  </p>
                </li>

                <li>
                  <strong>Fuzzy matches.</strong> The following search matches all documents 
                  that have a word within 1 edit distance of “foo”: <code>foo~1</code>
                </li>
            </ul>

          </p>
        </div>

        <div id="search-status"> </div>

        <div class="warning" id="search-warn-box" style="display: none;">
          <p class="rst-last"><span id="search-warn"></span></p>
        </div>

        <table id="search-results">
          <!-- Filled dynamically by JS -->
        </table>
        
        <div style="margin-top: 8px;">
          <p>Results provided by <a href="https://lunrjs.com">Lunr.js</a></p>
        </div>
      </div>

    </div>
  </div>
</nav>

    

    <div class="container">

      <div class="page-header">
        <h1 class="class"><code><code><a href="index.html" class="internal-link">src</a></code><wbr></wbr>.<code><a href="src.channel_performance.html" class="internal-link" title="src.channel_performance">channel_performance</a></code><wbr></wbr>.<code><a href="src.channel_performance.ChannelPerformance.html" class="internal-link" title="src.channel_performance.ChannelPerformance">ChannelPerformance</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        class documentation
      </div>

      <div class="extrasDocstring">
        <p><code><span class="py-keyword">class</span> <span class="py-defname">ChannelPerformance</span>:</code></p>
        <p><a href="classIndex.html#src.channel_performance.ChannelPerformance">View In Hierarchy</a></p>
      </div>

      <div class="moduleDocstring">
        <div>This class computes different performance metrics of the wireless channel</div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id13">
  
  
  <tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__init__" class="internal-link" title="src.channel_performance.ChannelPerformance.__init__">__init__</a></code></td>
    <td>ChannelPerformance constructor</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#average_rx_power" class="internal-link" title="src.channel_performance.ChannelPerformance.average_rx_power">average​_rx​_power</a></code></td>
    <td>This method given the Tx power of the radiobase computes the pathloss and shadowing of the scenario and return the average received power.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#compute_beamforming_gain" class="internal-link" title="src.channel_performance.ChannelPerformance.compute_beamforming_gain">compute​_beamforming​_gain</a></code></td>
    <td>This method given the Tx power spectral density, the Fourier Tranform of the impulse response of the channel and the MS and BS beamforming vectors, computes the beamforming gain for each prb of the OFDM specrum.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#compute_path" class="internal-link" title="src.channel_performance.ChannelPerformance.compute_path">compute​_path</a></code></td>
    <td>This method computes the wireless channel performance in a mobile path given by the veector of positions and times. This is the main method to compute the channel performnce in a path.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#compute_snr" class="internal-link" title="src.channel_performance.ChannelPerformance.compute_snr">compute​_snr</a></code></td>
    <td>This method computes the snr and other intermidate performance metrics for one point in the mobile path.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#compute_Tfourier_H" class="internal-link" title="src.channel_performance.ChannelPerformance.compute_Tfourier_H">compute_​Tfourier_​H</a></code></td>
    <td>This method computes the fourier transform of the channel matrix for each prb, each MS antenna element and each BS antenna element.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#save" class="internal-link" title="src.channel_performance.ChannelPerformance.save">save</a></code></td>
    <td>This method save to disk the performance mtrics of the path.</td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#H" class="internal-link" title="src.channel_performance.ChannelPerformance.H">H</a></code></td>
    <td>The Fourier Transform of the channel matrix. Is an array of objects. Each element of the array is the FT of the channel matrix of one MS.</td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basemethod">
  
  
  <a name="src.channel_performance.ChannelPerformance.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">__init__</span>(self):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div>ChannelPerformance constructor</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="src.channel_performance.ChannelPerformance.average_rx_power">
    
  </a>
  <a name="average_rx_power">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">average_rx_power</span>(self, fast_fading):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div>This method given the Tx power of the radiobase computes the pathloss and shadowing of the scenario and return the average received power.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">fast​_fading:</span>FastFading3gpp Class.</td><td class="fieldArgDesc">The fast fading 3gpp channel model object in one point of the path.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">scenario.Ptx_db - pathloss - shadowing</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="src.channel_performance.ChannelPerformance.compute_beamforming_gain">
    
  </a>
  <a name="compute_beamforming_gain">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">compute_beamforming_gain</span>(self, fast_fading, n_prbs, H_f, wMS, wBS):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div>This method given the Tx power spectral density, the Fourier Tranform of the impulse response of the channel and the MS and BS beamforming vectors, computes the beamforming gain for each prb of the OFDM specrum.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">fast​_fading:</span>FastFading3gpp Class.</td><td class="fieldArgDesc">The fast fading 3gpp channel model object in one point of the path.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">n​_prbs:</span>int.</td><td class="fieldArgDesc">number of  prbs in the frequency band.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">​H_f:</span>3d numpy array.</td><td class="fieldArgDesc">the channel matrix fourier transform for each prb, each MS antenna element, and each BS antenna element.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">w​MS:</span>numpy array.</td><td class="fieldArgDesc">the beamforming vector at the MS.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">w​BS:</span>numpy array.</td><td class="fieldArgDesc">the beamforming vector at the BS.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">bemaforming Gain for each prb (wMS . H_f[prb].wBS)</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="src.channel_performance.ChannelPerformance.compute_path">
    
  </a>
  <a name="compute_path">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">compute_path</span>(self, scenario, freq_band, antennaTx, antennaRx, n_mspositions, n_times, force_los, path, mode, scatters_move=False, move_probability=0, v_min_scatters=0, v_max_scatters=0, phi_addTx=0, theta_addTx=0, phi_addRx=0, theta_addRx=0, fix_beamforming=False):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>This method computes the wireless channel performance in a mobile path given by the veector of positions and times. This is the main method to compute the channel performnce in a path.</p>
<p>The method computes the performance metrics (snr,rxpsd,H,G,linear_losses, distances,snr_pl,sp_eff) in mobile path. For each point of the path it computes the beamforming vector for the LOS direction, using the 3gpp fading model for that point. This method calls the compute_snr method to compute the performance parameters. In accordance with the spatial consistency distance, the method recalculates the fading model or updates it only. IMPORTANT: for multiples MS, to have spatial consistency of ssps between the MSs it is necessary to use mode =1. In this mode the fading model generates a grid off ssps parameters and its values are interpolated for each MS position.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">scenario:</span>Scnario3GPP Class.</td><td class="fieldArgDesc">The 3GPP scenario model.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">freq​_band:</span>FrequencyBnad Class.</td><td class="fieldArgDesc">The frequency band containing the transmited power spectral density and the noise power spctral density for each prb.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">antenna​Tx:</span>Class AntennaArray3gpp</td><td class="fieldArgDesc">The BS antenna array model.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">antenna​Rx:</span>Class AntennaArray3gpp</td><td class="fieldArgDesc">The BS antenna array model.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">n​_mspositions:</span>Array.</td><td class="fieldArgDesc">Is an array of dimension the number of MS. Each element of the array contains the positions of the MS in its path.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">n​_times:</span>Array.</td><td class="fieldArgDesc">Is an array of dimension the number of MS. Each element of the array contains the simulation times in seconds corresponding to each position of the MS.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">force​_los:</span>int.</td><td class="fieldArgDesc">0 if LOS is forced to False, 1 if LOS is forced to True and 2 if LOS is computed from the scenario probability model.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">path:</span>string</td><td class="fieldArgDesc">The directory path to save the results of the simulation.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">mode</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">scatters​_move</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">move​_probability</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">v​_min​_scatters</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">v​_max​_scatters</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">phi_add​Tx:</span>float.</td><td class="fieldArgDesc">Additional Tx azimuth rotation angle to the LOS angle in the beamforming vector.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">theta_add​Tx:</span>float.</td><td class="fieldArgDesc">additional Tx inclination rotation angle to the LOS angle in the beamforming vector.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">phi_add​Rx:</span>float.</td><td class="fieldArgDesc">Additional Rx azimuth rotation angle to the LOS angle in the beamforming vector.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">theta_add​Rx:</span>float.</td><td class="fieldArgDesc">additional Rx inclination rotation angle to the LOS angle in the beamforming vector.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">fix​_beamforming:</span>Boolean</td><td class="fieldArgDesc">False if the AOA and AOD for the beamforming vector is computed using the LOS between the BS and MS positions. True if AOD and AOA are fixed with phi_addTx,theta_addTx and phi_addRx, theta_addRx . # @return: snr (10 * np.log10(np.sum(rxPsd.psd) /np.sum(noisePsd.psd))), rxPsd (txPsd* 10**(-pathloss-shadowing) * (np.abs(beamforming gain)**2)), the channel matrix Fourier Transform, the beamforming gain, the linear path loss, the snr taking into account only the path loss, # the spectral efficiency of the channel, the snr taking into account pathloss and shadow.</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="src.channel_performance.ChannelPerformance.compute_snr">
    
  </a>
  <a name="compute_snr">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">compute_snr</span>(self, fast_fading, freq_band, wMS, wBS):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>This method computes the snr and other intermidate performance metrics for one point in the mobile path.</p>
<p>The method computes the pathloss, the shadowing, the Fourier transform of the channel matrix, the beamforming gain and other variables. Using this information computes the average snr and the received power spectral density.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">fast​_fading:</span>FastFading3gpp Class.</td><td class="fieldArgDesc">The fast fading 3gpp channel model object in one point of the path.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">freq​_band:</span>FrequencyBnad Class.</td><td class="fieldArgDesc">The frequency band containing the transmited power spectral density and the noise power spctral density for each prb.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">w​MS:</span>numpy array.</td><td class="fieldArgDesc">the beamforming vector at the MS.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">w​BS:</span>numpy array.</td><td class="fieldArgDesc">the beamforming vector at the BS.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">snr (10 * np.log10(np.sum(rxPsd.psd) /np.sum(noisePsd.psd))), rxPsd (txPsd* 10**(-pathloss-shadowing) * (np.abs(beamforming gain)**2)), the channel matrix Fourier Transform, the beamforming gain, the linear path loss, the snr taking into account only the path loss, the spectral efficiency of the channel, the snr taking into account pathloss and shadow.</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="src.channel_performance.ChannelPerformance.compute_Tfourier_H">
    
  </a>
  <a name="compute_Tfourier_H">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">compute_Tfourier_H</span>(self, fast_fading, freq_band):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div>This method computes the fourier transform of the channel matrix for each prb, each MS antenna element and each BS antenna element.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">fast​_fading:</span>FastFading3gpp Class.</td><td class="fieldArgDesc">The fast fading 3gpp channel model object in one point of the path.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">freq​_band:</span>FrequencyBnad Class.</td><td class="fieldArgDesc">The frequency band containing the transmited power spectral density and the noise power spctral density for each prb.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">The fourier transform of the channel matrix for each prb, each MS antenna element and each BS antenna element.</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="src.channel_performance.ChannelPerformance.save">
    
  </a>
  <a name="save">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">save</span>(self, los, snr, rxpsd, H, G, linear_losses, distances, path, snr_pl, sp_eff, snr_pl_shadow, ms, times):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div>This method save to disk the performance mtrics of the path.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">los:</span>1D Array</td><td class="fieldArgDesc">The LOS condition for each point of the path. Saved to path+'/los.csv'</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">snr:</span>1D Array</td><td class="fieldArgDesc">The  average snr (average over the prbs) for each point of the path. Saved to path+'/snr.csv'</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">rxpsd:</span>2D Array</td><td class="fieldArgDesc">The recieved power spectral density for each prb and for each point of the path. Saved to path+'/rxpsd.csv'</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">H:</span>4D Array</td><td class="fieldArgDesc">The Fourier Transform of the channel matrix for each prb, each TX-RX antenna pair and for each point of the path. Saved to path+'/H_f.npy'</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">G:</span>2D Array</td><td class="fieldArgDesc">The beamforming gain for each prb, and for each point of the path. Saved to path+'/G.csv',</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">linear​_losses:</span>2D Array</td><td class="fieldArgDesc">The path loss in linear scale for each point of the path. Saved to path+'/linear_losses.csv'.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">distances:</span>1D Array.</td><td class="fieldArgDesc">The distance for each point in the path to the BS. Saved to path+'/positions.csv'</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">path:</span>string</td><td class="fieldArgDesc">The directory path to save the data.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">snr​_pl:</span>1D Array.</td><td class="fieldArgDesc">The average snr of each point of the path using only the path losses and not using shadowing and fading. Saved to path+'/snr_pl.csv'</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">sp​_eff:</span>1D Array.</td><td class="fieldArgDesc">The average spectral efficiency (bits/s/Hz) for each point of the path. Saved to path+'/spectral_eff.csv'</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">snr​_pl​_shadow:</span>1D Array.</td><td class="fieldArgDesc">The average snr of each point of the path using only the path losses and shadowing and not using the fast fading. Saved to path+'/snr_pl_shadow.csv'</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">ms:</span>int.</td><td class="fieldArgDesc">The number of the MS.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">times:</span>1D Array.</td><td class="fieldArgDesc">The times of the simulation of the ms device.</td></tr></table></div>
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="src.channel_performance.ChannelPerformance.H">
    
  </a>
  <a name="H">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">H</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div>The Fourier Transform of the channel matrix. Is an array of objects. Each element of the array is the FT of the channel matrix of one MS.</div>
    
  </div>
</div>

      </div>
    </div>

    <footer class="navbar navbar-default">

  
  <div class="container">
    <a href="index.html">API Documentation</a> for src,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    22.4.0.dev0 at 2022-08-04 16:29:36.
  </div>

  <!-- Search related scripts needs to be loaded at the end of HTML 
    parsing not to introduce overhead and display HTML data asap -->
  <script src="ajax.js" type="text/javascript"></script>
  <script src="searchlib.js" type="text/javascript"></script>
  <script src="search.js" type="text/javascript"></script>

</footer>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>